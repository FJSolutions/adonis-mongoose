
declare module '@ioc:Provider/Mongoose' {
  import Mongoose from 'mongoose'

  /**
   * Defines the names of the connections in the configuration file
   * 
   * (Update this union type with the other connection configuration names if using multiple named configurations
   */
  type MongooseConnectionName = 'Default'

  /**
   * Use the connection keyed to the supplied name
   * 
   * @param name The name of the connection key
   * @param changeConnection A flag indicating whether to change the default connection to the one named (default = false)
   * @returns {Mongoose.Connection} The named connection, for chaining purposes
   */
  function use (name: MongooseConnectionName, changeConnection: boolean) : Mongoose.Mongoose

  /**
   * Registers a Mongoose model object
   * 
   * @param name The name of the model class being registered
   * @param schema The Schema definition for the model class
   * @param collectionName (Optional) The name of the non-default collection name
   * @returns {MongooseModel<T>} The Mongoose model factory
   */
  function model<T extends Mongoose.Document> (name: String, Schema: Schema, collectionName?: string) : Mongoose.Model<T>
}
